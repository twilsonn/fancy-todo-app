var k=Object.defineProperty,T=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var x=(t,e,a)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,h=(t,e)=>{for(var a in e||(e={}))S.call(e,a)&&x(t,a,e[a]);if(v)for(var a of v(e))L.call(e,a)&&x(t,a,e[a]);return t},p=(t,e)=>T(t,C(e));import{v as g,c as A,a as F,u as j,b as O,j as s,r as m,F as P,d as c,_ as D,P as E,e as K,f as M,g as B}from"./vendor.a338e239.js";const I=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}};I();const R={value:[{id:g(),title:"Water my plants \u{1F4A6}",details:"The cactus' and snake plant needs watering on sunday morning!",tags:["plants","house"],active:!0},{id:g(),title:"Pick up package from store",details:"The store is open until 6pm",tags:["travel","shopping"],active:!0},{id:g(),title:"Order some new headphones \u{1F3B6}",details:"Look online for open ear headphones!",tags:["shopping","online"],active:!0},{id:g(),title:"Play Elder scrolls online \u{1F93A}",details:"don't take an arrow to the knee",tags:["online","gaming"],active:!0},{id:g(),title:"Contribute to open source development!",details:"Try to get involved in open source dev. Start with the small tasks.",tags:["online","coding"],active:!0}],filter:""},y=A({name:"todos",initialState:R,reducers:{addTodo:(t,e)=>{t.value=[...t.value,e.payload]},deleteTodo:(t,e)=>{t.value=[...t.value.filter(a=>!e.payload.includes(a.id))]},filterTodos:(t,e)=>{if(t.filter===e.payload){t.value=[...t.value.map(a=>p(h({},a),{active:!0}))],t.filter="";return}t.filter=e.payload,t.value=[...t.value.map(a=>a.tags.includes(e.payload)?a:p(h({},a),{active:!1}))]}}}),w=()=>({id:g(),title:"",details:"",tags:[],active:!0}),{addTodo:z,deleteTodo:V,filterTodos:W}=y.actions;var _=y.reducer;const $=F({reducer:{todos:_}});const b=()=>j(),q=O,N=({children:t,ClassName:e,onClick:a})=>s("div",{onClick:a,className:`w-full p-4 bg-white shadow-md shadow-slate-200 rounded-2xl ${e}`,children:t}),G=({children:t,active:e,toggleActive:a})=>{const r=m.exports.useRef(null),o=l=>{r.current&&e&&!r.current.contains(l.target)&&a()};return document.addEventListener("mousedown",o),e?s(P,{children:s("div",{className:"flex absolute top-0 left-0 z-10 justify-center items-center w-full h-full bg-black bg-opacity-20",children:s("div",{ref:r,className:"w-full max-w-sm prose",children:s(N,{ClassName:"shadow-slate-400",children:t})})})}):null},H=({title:t,value:e,changeValue:a})=>c("div",{className:"w-full",children:[s("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 capitalize",children:t.toLowerCase()}),s("div",{className:"mt-1",children:s("input",{type:"text",name:t,id:t,value:e,onChange:a,className:"block w-full sm:text-sm rounded-md border-gray-300 shadow-sm focus:border-fuchsia-500 focus:ring-fuchsia-500",autoComplete:"off","data-lpignore":"true","data-form-type":"other"})})]}),J=({title:t,value:e,changeValue:a})=>c("div",{className:"w-full",children:[s("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 capitalize",children:t.toLowerCase()}),s("div",{className:"mt-1",children:s("textarea",{name:t,id:t,value:e,onChange:a,className:"block w-full sm:text-sm rounded-md border-gray-300 shadow-sm focus:border-fuchsia-500 focus:ring-fuchsia-500",autoComplete:"off","data-lpignore":"true","data-form-type":"other"})})]}),Q=({name:t,removeTag:e})=>c("span",{className:"inline-flex items-center py-2.5 pr-2 pl-3 mt-2 mr-1 text-sm font-medium rounded-full text-slate-700 bg-slate-100",children:[t,c("button",{type:"button",onClick:()=>e(t),className:"inline-flex flex-shrink-0 justify-center items-center ml-0.5 w-4 h-4 focus:text-white rounded-full focus:outline-none hover:bg-slate-200 focus:bg-slate-500 text-slate-400 hover:text-slate-500",children:[s("span",{className:"sr-only",children:"Remove large option"}),s("svg",{className:"w-2 h-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:s("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})]})]}),U=({tags:t,addTag:e,removeTag:a})=>{const[r,o]=m.exports.useState(""),[l,i]=m.exports.useState(!1),u=n=>{n.key==="Enter"&&(e(r),o(""))},f=m.exports.useRef(null),d=n=>{f.current&&l&&!f.current.contains(n.target)&&(i(!1),o(""))};return document.addEventListener("mousedown",d),c("div",{className:"w-full",children:[s("span",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),c("div",{className:"flex flex-wrap justify-start items-center",children:[t.map(n=>s(Q,{removeTag:a,name:n},n)),c("button",{ref:f,className:"flex py-2 px-2 mt-2 mr-1 h-10 rounded-full bg-slate-100",children:[l&&s(D,{placeholder:" ",value:r,autoFocus:!0,onChange:n=>o(n.target.value),onKeyDown:u,inputClassName:"p-0 pl-1 m-0 bg-transparent text-sm font-medium -translate-y-1 border-none focus:border-none ring-0 focus:ring-0 outline-none focus:outline-none"}),s(E,{className:"w-6 h-6 text-slate-400 hover:text-slate-500",onClick:()=>i(!l)})]})]})]})},X=()=>{const t=b(),[e,a]=m.exports.useState(w()),[r,o]=m.exports.useState(!1),l=()=>{a(w()),o(!r)},i=()=>{t(z(e)),l()},u=d=>{const n=new Set([...e.tags,d]);a(p(h({},e),{tags:[...n]}))},f=d=>{a(p(h({},e),{tags:[...e.tags.filter(n=>n===d)]}))};return c("div",{children:[c(G,{active:r,toggleActive:l,children:[s("h4",{className:"mt-0",children:"Create New Todo"}),c("div",{className:"flex flex-col items-end mt-4 space-y-4",children:[s("div",{className:"w-full",children:s(H,{title:"title",value:e.title,changeValue:d=>a(p(h({},e),{title:d.target.value}))})}),s("div",{className:"w-full",children:s(J,{title:"details",value:e.details,changeValue:d=>a(p(h({},e),{details:d.target.value}))})}),s(U,{tags:e.tags,addTag:u,removeTag:f}),s("button",{type:"button",onClick:i,className:"py-2 px-6 font-semibold text-white rounded-lg shadow-md bg-fuchsia-500 shadow-fuchsia-200 hover:bg-fuchsia-600",children:"Create Todo"})]})]}),s("button",{type:"button",onClick:l,className:"py-2 px-6 font-semibold text-white rounded-lg shadow-md bg-fuchsia-500 shadow-fuchsia-200 hover:bg-fuchsia-600",children:"New Todo"})]})},Y=()=>s("nav",{className:"py-5 px-8 w-full bg-white rounded-2xl shadow-md shadow-slate-200",children:c("ul",{className:"flex justify-between",children:[s("li",{className:"flex items-center",children:s("h2",{className:"text-2xl font-semibold",children:"Todo List \u{1F384}"})}),s("li",{children:s(X,{})})]})}),Z=()=>{const t=q(l=>l.todos.value),e=b(),[a,r]=m.exports.useState([]),o=(l,i)=>{l.target.getAttribute("data-value")!=="tag"&&(a.some(u=>u.id===i.id)?l.ctrlKey?r(a.filter(u=>u.id!==i.id)):r([]):l.ctrlKey?r([...a,i]):r([i]))};return K(["x","Backspace","Delete"],()=>{a.length>0&&e(V(a.map(l=>l.id)))}),s("div",{children:s("div",{className:"grid grid-cols-3 gap-6 mt-6",children:t.map(l=>{const{id:i,title:u,details:f,tags:d}=l;return l.active?c(N,{onClick:n=>o(n,l),ClassName:`prose flex flex-col h-64 cursor-pointer select-none ${a.some(n=>n.id===i)?"ring-fuchsia-500 ring-2":""}`,children:[c("div",{children:[s("h3",{className:"mt-0",children:u}),s("p",{children:f})]}),s("div",{className:"flex justify-end items-end space-x-2 h-full",children:d.map(n=>s("span",{"data-value":"tag",onClick:()=>e(W(n)),className:"py-2 px-3 text-sm font-semibold rounded-full cursor-pointer bg-slate-200 hover:bg-slate-300",children:n},n))})]},i):null})})})};function ee(){return c("div",{className:"m-auto max-w-4xl",children:[s("header",{className:"my-4",children:s(Y,{})}),s("main",{children:s(Z,{})})]})}const te=()=>s(m.exports.StrictMode,{children:s(B,{store:$,children:s(ee,{})})});M.exports.render(s(te,{}),document.getElementById("root"));
